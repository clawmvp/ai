<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backgammon Pro - Play Online</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Fixed Wallet Header (shown on ALL screens except loading) -->
    <div id="wallet-header" class="wallet-header hidden">
        <div class="wallet-left">
            <span class="solana-logo">â—</span>
            <span class="network-badge" id="network-badge">DEVNET</span>
        </div>
        <div class="wallet-center" id="balance-display">
            <div class="balance-not-connected">
                <span class="no-wallet-text">Wallet neconectat</span>
            </div>
            <div class="balance-connected hidden" id="balance-connected">
                <span class="sol-balance" id="sol-balance">0.00 SOL</span>
                <span class="usd-value" id="usd-value">â‰ˆ $0.00</span>
            </div>
        </div>
        <div class="wallet-right">
            <button id="header-wallet-btn" class="header-wallet-btn" onclick="connectWallet()">
                <span class="btn-icon">ğŸ‘»</span>
                <span class="btn-text" id="header-wallet-text">Connect Wallet</span>
            </button>
        </div>
    </div>

    <div id="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="screen active">
            <div class="loading-content">
                <div class="dice-icon">ğŸ²</div>
                <h1>BACKGAMMON PRO</h1>
                <p>Play Backgammon Online</p>
                <div class="loading-bar">
                    <div class="loading-fill"></div>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="menu-screen" class="screen">
            <div class="menu-header">
                <h1>ğŸ² BACKGAMMON PRO</h1>
                <p class="subtitle">JoacÄƒ table online cu prietenii</p>
            </div>

            <div class="menu-cards">
                <div class="menu-card" onclick="showDifficultySelect()">
                    <div class="card-icon">ğŸ¤–</div>
                    <h3>Single Player</h3>
                    <p>JoacÄƒ contra AI</p>
                </div>

                <div class="menu-card" onclick="showMultiplayerOptions()">
                    <div class="card-icon">ğŸ‘¥</div>
                    <h3>Multiplayer</h3>
                    <p>JoacÄƒ online</p>
                </div>

                <div class="menu-card disabled">
                    <div class="card-icon">ğŸ†</div>
                    <h3>Turneu</h3>
                    <p>Coming Soon</p>
                </div>
            </div>

            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-value" id="games-played">0</span>
                    <span class="stat-label">Jocuri</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="wins">0</span>
                    <span class="stat-label">Victorii</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="win-rate">0%</span>
                    <span class="stat-label">Win Rate</span>
                </div>
            </div>
        </div>

        <!-- Difficulty Selection -->
        <div id="difficulty-screen" class="screen">
            <button class="back-btn" onclick="showMenu()">â† Ãnapoi</button>
            <h2>Alege Dificultatea</h2>

            <div class="difficulty-cards">
                <div class="difficulty-card beginner" onclick="startGame('beginner')">
                    <div class="diff-icon">ğŸŸ¢</div>
                    <h3>ÃNCEPÄ‚TOR</h3>
                    <p>MiÈ™cÄƒri aleatorii, perfect pentru a Ã®nvÄƒÈ›a regulile</p>
                </div>

                <div class="difficulty-card medium" onclick="startGame('medium')">
                    <div class="diff-icon">ğŸŸ¡</div>
                    <h3>MEDIU</h3>
                    <p>Strategie de bazÄƒ, bun pentru practicÄƒ</p>
                </div>

                <div class="difficulty-card hard" onclick="startGame('hard')">
                    <div class="diff-icon">ğŸ”´</div>
                    <h3>EXPERT</h3>
                    <p>AI strategic, pregÄƒteÈ™te-te pentru o provocare!</p>
                </div>
            </div>
        </div>

        <!-- Multiplayer Screen -->
        <div id="multiplayer-screen" class="screen">
            <button class="back-btn" onclick="showMenu()">â† Ãnapoi</button>
            <h2>ğŸŒ Multiplayer</h2>

            <!-- Wallet Required Notice -->
            <div id="wallet-required" class="wallet-notice">
                <div class="notice-icon">ğŸ”</div>
                <p>ConecteazÄƒ wallet-ul Solana pentru a juca multiplayer</p>
                <button class="connect-wallet-btn" onclick="connectWallet()">
                    <span>ğŸ‘»</span> ConecteazÄƒ Phantom
                </button>
            </div>

            <!-- Connected Wallet Display -->
            <div id="wallet-connected" class="wallet-connected hidden">
                <div class="wallet-address">
                    <span class="wallet-badge">âœ…</span>
                    <span id="mp-wallet-address">...</span>
                </div>
            </div>

            <div class="multiplayer-options hidden" id="mp-options">
                <div class="mp-card" onclick="createRoom()">
                    <div class="mp-icon">ğŸ </div>
                    <h3>CreeazÄƒ CamerÄƒ</h3>
                    <p>InvitÄƒ un prieten cu un cod</p>
                </div>

                <div class="mp-card" onclick="showJoinRoom()">
                    <div class="mp-icon">ğŸ”—</div>
                    <h3>IntrÄƒ Ã®n CamerÄƒ</h3>
                    <p>FoloseÈ™te codul prietenului</p>
                </div>

                <div class="mp-card" onclick="quickMatch()">
                    <div class="mp-icon">âš¡</div>
                    <h3>Quick Match</h3>
                    <p>GÄƒseÈ™te un adversar automat</p>
                </div>
            </div>

            <div id="room-code-display" class="room-code hidden">
                <p>Codul camerei tale:</p>
                <div class="code-box" id="code-box">XXXX</div>
                <button class="copy-btn" onclick="copyRoomCode()">ğŸ“‹ CopiazÄƒ</button>
                <p class="waiting-text">AÈ™teptÄƒm adversarul...</p>
            </div>

            <div id="join-room-form" class="join-form hidden">
                <p>Introdu codul camerei:</p>
                <input type="text" id="room-code-input" maxlength="4" placeholder="XXXX">
                <button class="join-btn" onclick="joinRoom()">IntrÄƒ</button>
            </div>

            <div id="matchmaking-status" class="matchmaking hidden">
                <div class="spinner"></div>
                <p>CÄƒutÄƒm un adversar...</p>
                <button class="cancel-btn" onclick="cancelMatchmaking()">AnuleazÄƒ</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <button class="back-btn" onclick="exitGame()">â† Meniu</button>
                <div class="game-info">
                    <span id="difficulty-display">vs AI Mediu</span>
                    <span id="turn-display">Tura ta</span>
                </div>
            </div>

            <div class="game-container">
                <!-- Board -->
                <div class="board-container">
                    <div id="board" class="board">
                        <!-- Points will be generated by JS -->
                    </div>

                    <div class="bar" id="bar">
                        <div class="bar-section bar-top" id="bar-top"></div>
                        <div class="bar-section bar-bottom" id="bar-bottom"></div>
                    </div>

                    <div class="bearing-off">
                        <div class="bear-off bear-off-white" id="bear-off-white"></div>
                        <div class="bear-off bear-off-black" id="bear-off-black"></div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="game-controls">
                    <div class="dice-container">
                        <div class="die" id="die1">?</div>
                        <div class="die" id="die2">?</div>
                    </div>

                    <button class="roll-btn" id="roll-btn" onclick="rollDice()">
                        ğŸ² DÄƒ cu zarul
                    </button>

                    <div class="moves-left" id="moves-left">
                        MiÈ™cÄƒri rÄƒmase: 0
                    </div>
                </div>
            </div>

            <!-- Game Messages -->
            <div id="game-message" class="game-message hidden"></div>
        </div>

        <!-- Win/Lose Modal -->
        <div id="result-modal" class="modal hidden">
            <div class="modal-content">
                <div id="result-icon" class="result-icon">ğŸ†</div>
                <h2 id="result-title">Ai cÃ¢È™tigat!</h2>
                <p id="result-text">FelicitÄƒri!</p>
                <button class="play-again-btn" onclick="playAgain()">JoacÄƒ din nou</button>
                <button class="menu-btn" onclick="exitGame()">Meniu principal</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>

</html>